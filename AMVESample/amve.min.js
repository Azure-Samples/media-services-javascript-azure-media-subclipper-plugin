"use strict";var amp,__extends,AMVE;(function(n){n.plugin("AMVE",function(n){var t=this,i;n&&n.containerId&&(i=new AMVE.AMVECore(t,n))})})(amp||(amp={})),function(n){var t=function(){function t(t,i){if(this._eventHandlers={},!i.containerId)throw new Error("AMVE options Error: you must specify a containerId!");if(!i.clipdataCallback)throw new Error("AMVE options Error: you must specify a clipdataCallback!");var r=this;this.player=t;this.player.controls(!1);this.containerId=i.containerId;this.customMetadataContainerId=i.customMetadataContainerId;this._clipDataCallback=i.clipdataCallback;this._shortcutConfig=i.keyboardShortcutConfig;this._amveUX=new n.AMVEUX(this)}return t.prototype.addEventListener=function(n,t){this._eventHandlers[n]=this._eventHandlers[n]||[];this._eventHandlers[n].push(t)},t.prototype.removeEventListener=function(n,t){this._eventHandlers[n]=this._eventHandlers[n]||[];this._eventHandlers[n].pop(t)},t.prototype.trigger=function(n){var i=this._eventHandlers[n],t;if(i)for(t=0;t<i.length;t++)i[t](n)},Object.defineProperty(t.prototype,"clipData",{get:function(){return this._clipData},set:function(n){this._clipData=n;this.trigger("clipdatacreated");this._clipDataCallback&&this._clipDataCallback(this._clipData)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardShortcutConfig",{get:function(){return this._shortcutConfig},enumerable:!0,configurable:!0}),t}();n.AMVECore=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(t){function r(){var t;i._amveUX.clipData.markInPT>=0&&(i._amveUX.mode==n.EditorModes.Trim||i._amveUX.clipData.markOutPT>0)?(i._clipLengthDisplay.innerHTML=i._amveUX.formatTimeWords(i._amveUX.checkClipDuration()),i._clipLengthDisplay.style.display="block",i._exportBtn.classList.remove("amve-btn-disabled")):(i._clipLengthDisplay.style.display="none",i._exportBtn.classList.add("amve-btn-disabled"));i._amveUX.clipData.markIn>=0&&!i._amveUX.isThumbnailsGenerating?(t=i._amveUX.fromMediaTime(i._amveUX.clipData.markIn),t>=0?(i._markInDisplay.innerHTML=i._amveUX.formatTime(t),i._markInDisplay.style.display="block"):i._markInDisplay.style.display="none"):i._markInDisplay.style.display="none";i._amveUX.clipData.markOut>0&&!i._amveUX.isThumbnailsGenerating?(t=i._amveUX.fromMediaTime(i._amveUX.clipData.markOut),t>=0?(i._markOutDisplay.innerHTML=i._amveUX.formatTime(t),i._markOutDisplay.style.display="block"):i._markInDisplay.style.display="none"):i._markOutDisplay.style.display="none"}function u(t,r){r===void 0&&(r=1);var u=0;switch(i._amveUX.mode){case n.EditorModes.Rendered:u=r<0?i._amveUX.prevFrame(t):i._amveUX.nextFrame(t);break;case n.EditorModes.Trim:u=r<0?i._amveUX.prevGop(t):i._amveUX.nextGop(t);break;case n.EditorModes.Virtual:u=r<0?i._amveUX.prevGop(t):i._amveUX.nextGop(t)}return u<=0?u=0:u>=i._amveUX.player.duration()&&(u=i._amveUX.player.duration()),u}var i=this;this._amveUX=t;this._controlBarElement=this._amveUX.createElement(["amve-bottom-controlbar"]);this._amveUX.appendBottomChild(this._controlBarElement);this._controlBarTopElement=this._amveUX.createElement(["amve-bottom-controlbar-top"]);this._controlBarElement.appendChild(this._controlBarTopElement);this._leftCol=this._amveUX.createElement(["amve-left-column"]);this._controlBarTopElement.appendChild(this._leftCol);this._centerCol=this._amveUX.createElement(["amve-center-column"]);this._controlBarTopElement.appendChild(this._centerCol);this._centerColLeft=this._amveUX.createElement(["amve-center-column-left"]);this._centerCol.appendChild(this._centerColLeft);this._centerColCenter=this._amveUX.createElement(["amve-center-column-center"]);this._centerCol.appendChild(this._centerColCenter);this._centerColRight=this._amveUX.createElement(["amve-center-column-right"]);this._centerCol.appendChild(this._centerColRight);this._rightCol=this._amveUX.createElement(["amve-right-column"]);this._controlBarTopElement.appendChild(this._rightCol);this._resetBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-reset-btn"]);this._resetBtn.innerHTML="reset";this._leftCol.appendChild(this._resetBtn);this._exportBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-btn-disabled","amve-export-btn"]);this._exportBtn.innerHTML="export";this._rightCol.appendChild(this._exportBtn);this._clipLengthDisplay=this._amveUX.createElement(["amve-cliplength-display"]);this._centerColCenter.appendChild(this._clipLengthDisplay);this._markInControlsContainer=this._amveUX.createElement(["amve-markin-controls-container"]);this._centerColLeft.appendChild(this._markInControlsContainer);this._markInControls=this._amveUX.createElement(["amve-markin-controls"]);this._markInControlsContainer.appendChild(this._markInControls);this._markOutControlsContainer=this._amveUX.createElement(["amve-markout-controls-container"]);this._centerColRight.appendChild(this._markOutControlsContainer);this._markOutControls=this._amveUX.createElement(["amve-markout-controls"]);this._markOutControlsContainer.appendChild(this._markOutControls);this._markInLeftArrow=this._amveUX.createElement(["amve-btn-control","amve-chevron-left","amve-markin-leftarrow"]);this._markInControls.appendChild(this._markInLeftArrow);this._markInDisplayContainer=this._amveUX.createElement(["amve-markin-display-container"]);this._markInControls.appendChild(this._markInDisplayContainer);this._setMarkInBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-setmarkin-btn"]);this._setMarkInBtn.innerHTML="set in";this._markInDisplayContainer.appendChild(this._setMarkInBtn);this._markInDisplay=this._amveUX.createElement(["amve-markin-display"]);this._markInDisplayContainer.appendChild(this._markInDisplay);this._markInRightArrow=this._amveUX.createElement(["amve-btn-control","amve-chevron-right","amve-markin-rightarrow"]);this._markInControls.appendChild(this._markInRightArrow);this._markOutLeftArrow=this._amveUX.createElement(["amve-btn-control","amve-chevron-left","amve-markout-leftarrow"]);this._markOutControls.appendChild(this._markOutLeftArrow);this._markOutDisplayContainer=this._amveUX.createElement(["amve-markout-display-container"]);this._markOutControls.appendChild(this._markOutDisplayContainer);this._setMarkOutBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-setmarkout-btn"]);this._setMarkOutBtn.innerHTML="set out";this._markOutDisplayContainer.appendChild(this._setMarkOutBtn);this._markOutDisplay=this._amveUX.createElement(["amve-markout-display"]);this._markOutDisplayContainer.appendChild(this._markOutDisplay);this._markOutRightArrow=this._amveUX.createElement(["amve-btn-control","amve-chevron-right","amve-markout-rightarrow"]);this._markOutControls.appendChild(this._markOutRightArrow);this._amveUX.addPropertyChangedListener("mode",function(){switch(i._amveUX.mode){case n.EditorModes.Trim:i._markInLeftArrow.title="-1 gop";i._markInRightArrow.title="+1 gop";i._markOutLeftArrow.style.display="none";i._markOutRightArrow.style.display="none";i._markOutLeftArrow.style.display="none";i._markOutDisplay.style.display="none";i._setMarkOutBtn.style.display="none";r();break;case n.EditorModes.Virtual:i._markInLeftArrow.title="-1 gop";i._markInRightArrow.title="+1 gop";i._markOutLeftArrow.title="-1 gop";i._markOutRightArrow.title="+1 gop";i._markOutRightArrow.style.display="block";i._markOutLeftArrow.style.display="block";i._markOutDisplay.style.display="block";i._setMarkOutBtn.style.display="block";r();break;case n.EditorModes.Rendered:i._markInLeftArrow.title="-1 frame";i._markInRightArrow.title="+1 frame";i._markOutLeftArrow.title="-1 frame";i._markOutRightArrow.title="+1 frame";i._markOutRightArrow.style.display="block";i._markOutLeftArrow.style.display="block";i._markOutDisplay.style.display="block";i._setMarkOutBtn.style.display="block";r()}});this._amveUX.player.addEventListener("timeupdate",function(){i._amveUX.isScrubbing||r()});this._amveUX.clipData.addEventListener("markInPT",function(){r()});this._amveUX.clipData.addEventListener("markOutPT",function(){r()});this._exportBtn.addEventListener("click",function(){i._exportBtn.classList.contains("amve-btn-disabled")||i._amveUX.toggleSubmitDlg(1)});this._resetBtn.addEventListener("click",function(){i._amveUX.reset()});this._markInDisplay.addEventListener("click",function(){i._amveUX.clipData.markInPT>=0&&i._amveUX.player.currentTime(i._amveUX.fromMediaTime(i._amveUX.clipData.markIn))});this._markOutDisplay.addEventListener("click",function(){i._amveUX.clipData.markOutPT>=0&&i._amveUX.player.currentTime(i._amveUX.fromMediaTime(i._amveUX.clipData.markOut))});this._setMarkInBtn.addEventListener("click",function(){i._amveUX.clipData.markInPT=i._amveUX.player.currentTime();i._amveUX.player.currentTime(i._amveUX.clipData.markInPT)});this._setMarkOutBtn.addEventListener("click",function(){i._amveUX.clipData.markOutPT=i._amveUX.player.currentTime();i._amveUX.player.currentTime(i._amveUX.clipData.markOutPT)});this._markInLeftArrow.addEventListener("click",function(){var t,n;i._amveUX.clipData.markInPT>0&&(t=i._amveUX.clipData.markInPT,i._amveUX.player.isLive()&&(t=i._amveUX.fromMediaTime(i._amveUX.clipData.markIn)),n=u(t,-1),n>=0&&n>=0&&(i._amveUX.clipData.markInPT=n,i._amveUX.player.currentTime(n)))});this._markInRightArrow.addEventListener("click",function(){var t=i._amveUX.clipData.markInPT,n;i._amveUX.player.isLive()&&(t=i._amveUX.fromMediaTime(i._amveUX.clipData.markIn));n=u(t);n>=0&&(i._amveUX.clipData.markInPT=n,i._amveUX.player.currentTime(n))});this._markOutLeftArrow.addEventListener("click",function(){var t,n;i._amveUX.clipData.markOutPT>0&&(t=i._amveUX.clipData.markOutPT,i._amveUX.player.isLive()&&(t=i._amveUX.fromMediaTime(i._amveUX.clipData.markOut)),n=u(t,-1),n>0&&(i._amveUX.clipData.markOutPT=n,i._amveUX.player.currentTime(n)))});this._markOutRightArrow.addEventListener("click",function(){var t=i._amveUX.clipData.markOutPT,n;i._amveUX.player.isLive()&&(t=i._amveUX.fromMediaTime(i._amveUX.clipData.markOut));n=u(t);n>0&&(i._amveUX.clipData.markOutPT=n,i._amveUX.player.currentTime(n))})}return Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this._controlBarElement.clientHeight},enumerable:!0,configurable:!0}),t}();n.AMVEBottomControlBar=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(n){this._markIn=-1;this._markOut=-1;this._markInPT=-1;this._markOutPT=-1;this._isClipCompleted=!1;this._eventHandlers={};this._negativeMarkCount=0;this._negativeMarkThreshold=10;var t=this;this._amveUX=n;this._amveUX.player.addEventListener(amp.eventName.timeupdate,function(){if(!t._amveUX.isScrubbing&&t.markInPT>=0){var n=t._amveUX.fromMediaTime(t.markIn),i=t._amveUX.fromMediaTime(t.markOut);n<0?t._negativeMarkCount>=t._negativeMarkThreshold?(t.markInPT=-1,t.markOutPT=-1,t._negativeMarkCount=0):t._negativeMarkCount++:t._negativeMarkCount=0;i<0?t._negativeMarkCount>=5&&(t.markOutPT=-1):t._negativeMarkCount=0;n>=0&&i-n<t._amveUX.minClipDuration&&t._negativeMarkCount>=5&&(t.markOutPT=-1)}})}return Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(n){n!=this._src&&(this._src=n,this.propertyChanged("src"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markIn",{get:function(){return this._markIn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markOut",{get:function(){return this._markOut},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markInPT",{get:function(){return this._markInPT},set:function(n){n!=this._markInPT&&(this._markInPT=n,this.propertyChanged("markInPT"),this._markIn=n>0?this._amveUX.toMediaTime(n):-1,this.propertyChanged("markIn"),this.markOutPT>0&&n>=this.markOutPT&&(this.markOutPT=n+this._amveUX.minClipDuration))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markOutPT",{get:function(){return this._markOutPT},set:function(n){n!=this._markOutPT&&(this.markInPT>=0&&n<=this.markInPT&&(n=this.markInPT+this._amveUX.minClipDuration),this._markOutPT=n,this.propertyChanged("markOutPT"),this._markOut=n>0?this._amveUX.toMediaTime(n):-1,this.propertyChanged("markOut"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(n){n!=this._title&&(this._title=n,this.propertyChanged("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this._description},set:function(n){n!=this._description&&(this._description=n,this.propertyChanged("description"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbnail",{get:function(){return this._thumbnail},set:function(n){n!=this._thumbnail&&(this._thumbnail=n,this.propertyChanged("thumbnail"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isClipCompleted",{get:function(){return this._isClipCompleted},set:function(n){this._isClipCompleted=n;this.propertyChanged("isClipCompleted")},enumerable:!0,configurable:!0}),t.prototype.scrutinizeMark=function(t){switch(this._amveUX.mode){case n.EditorModes.Rendered:return this._amveUX.closestFrame(t,-1);case n.EditorModes.Trim:return this._amveUX.closestGop(t,-1);case n.EditorModes.Virtual:return this._amveUX.closestGop(t,-1)}},t.prototype.addPropertyChangedListener=function(n,t){this.addEventListener(n,t)},t.prototype.removePropertyChangedListener=function(n,t){this.removeEventListener(n,t)},t.prototype.propertyChanged=function(n){this.trigger(n)},t.prototype.addEventListener=function(n,t){this._eventHandlers[n]=this._eventHandlers[n]||[];this._eventHandlers[n].push(t)},t.prototype.removeEventListener=function(n,t){this._eventHandlers[n]=this._eventHandlers[n]||[];this._eventHandlers[n].pop(t)},t.prototype.trigger=function(n){var i=this._eventHandlers[n],t;if(i)for(t=0;t<i.length;t+=1)i[t](n)},t}();n.AMVEClipData=t}(AMVE||(AMVE={})),function(n){var t=function(){function n(n){var t=this;this._amveUX=n;this._warningContainer=this._amveUX.createElement(["amve-modal","amve-settings"]);this._amveUX.appendChild(this._warningContainer);this._warningContent=this._amveUX.createElement(["amve-modal-content","amve-dvrwarning-content"]);this._warningContainer.appendChild(this._warningContent);this._closeBtn=this._amveUX.createElement(["amve-btn-control","amve-close-btn"]);this._warningContent.appendChild(this._closeBtn);this._warningTitle=this._amveUX.createElement(["amve-dvrwarning-title"]);this._warningTitle.innerText="WARNING";this._warningContent.appendChild(this._warningTitle);this._warningMessage=this._amveUX.createElement(["amve-dvrwarning-message"]);this._warningMessage.innerText="";this._warningContent.appendChild(this._warningMessage);this._closeBtn.addEventListener("click",function(){t.close()});this._amveUX.addEventListener("mark",function(){if(t._amveUX.player.isLive()&&t._amveUX.player.currentPlayableWindow()){var i=!1,n=15,r=t._amveUX.fromPresentationTime(t._amveUX.player.currentPlayableWindow().startInSec),u=t._amveUX.fromPresentationTime(t._amveUX.player.currentPlayableWindow().endInSec);if(t._amveUX.markIn&&t._amveUX.markIn<=r+300||t._amveUX.markOut&&t._amveUX.markOut>=u-300?(i=!0,n=5):(t._amveUX.markIn&&t._amveUX.markIn<=r+900||t._amveUX.markOut&&t._amveUX.markOut>=u-900)&&(i=!0,n=15),i){switch(t._amveUX.mode){case 2:t._warningMessage.innerText="The Set in point you selected is within "+n+" minutes of the rolling archive window edge. Please submit your subclipping job soon to ensure a successful encoding job with this Set in point.";break;default:t._warningMessage.innerText="The Set in point you selected is within "+n+" minutes of the rolling archive edge, and will disappear after it falls outside the storage window."}t.resize();t._warningContainer.style.display="block"}else t._warningMessage.innerText=""}})}return n.prototype.resize=function(){var n=(this._amveUX.clientHeight-this.clientHeight)/2;this._warningContent.style.top=n+"px"},n.prototype.close=function(){this._warningContainer.style.display="none"},Object.defineProperty(n.prototype,"clientWidth",{get:function(){return this._warningContent.clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientHeight",{get:function(){return this._warningContent.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._warningContainer.style},enumerable:!0,configurable:!0}),n}();n.AMVEDVRWarningDialog=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(t){function r(){i._amveUX.player.pause();i._markControlElement.style.cursor="pointer";i._isMarkInClipping=!0;i._isMarkOutClipping=!1}function u(n){if(i._isMarkInClipping){i._markControlElement.style.cursor="default";i._isMarkInClipping=!1;var r=i._amveUX.player.duration(),f=i._amveUX.player.currentTime(),u=i._amveUX.calculateDistanceX(n,i._markControlElement),t=u*r;t==r&&(t=t-.1);i._amveUX.player.currentTime(t)}}function f(){i._amveUX.player.pause();i._markControlElement.style.cursor="pointer";i._isMarkInClipping=!1;i._isMarkOutClipping=!0}function e(n){if(i._isMarkOutClipping){i._markControlElement.style.cursor="default";i._isMarkOutClipping=!1;var r=i._amveUX.player.duration(),t=i._amveUX.calculateDistanceX(n,i._markControlElement)*r;t==r&&(t=t-.1);i._amveUX.player.currentTime(t)}}function o(n){document.body.focus();i._isMarkInClipping?i.positionMarkIn(!1,n):i._isMarkOutClipping&&i.positionMarkOut(!1,n)}this._isMarkInClipping=!1;this._isMarkOutClipping=!1;this._preModeChangeMarkOutPlayerTime=-1;this._preModeChangeMarkOutMediaTime=-1;this._normalMarkForeground="rgb(255,255,255)";this._warnTimeout=5e3;this._warnMarkInLastShown=-1;this._warnMarkOutLastShown=-1;var i=this;this._amveUX=t;this._markControlElement=this._amveUX.createElement(["amve-mark-controlbar"]);this._amveUX.appendBottomChild(this._markControlElement);this._markFillElement=this._amveUX.createElement(["amve-mark-fill"]);this._markControlElement.appendChild(this._markFillElement);this._markInElement=this._amveUX.createElement(["amve-mark-in"]);this._markControlElement.appendChild(this._markInElement);this._markOutElement=this._amveUX.createElement(["amve-mark-out"]);this._markControlElement.appendChild(this._markOutElement);this._markInWarning=this._amveUX.createElement(["amve-mark-in-warning"]);this._markControlElement.appendChild(this._markInWarning);this._markOutWarning=this._amveUX.createElement(["amve-mark-in-warning"]);this._markControlElement.appendChild(this._markOutWarning);this._amveUX.addPropertyChangedListener("mode",function(){var t;switch(i._amveUX.mode){case n.EditorModes.Trim:i._preModeChangeMarkOutPlayerTime=i._amveUX.clipData.markOutPT;i._amveUX.clipData.markOutPT=-1;i._markOutElement.style.display="none";i.onMark();break;case n.EditorModes.Virtual:i._amveUX.clipData.markOutPT<=0&&(t=i._amveUX.player.currentTime(),i._amveUX.clipData.markOutPT=i._preModeChangeMarkOutPlayerTime,i._amveUX.player.currentTime(t));break;case n.EditorModes.Rendered:i._amveUX.clipData.markOutPT<=0&&(t=i._amveUX.player.currentTime(),i._amveUX.clipData.markOutPT=i._preModeChangeMarkOutPlayerTime,i._amveUX.player.currentTime(t))}});this._amveUX.player.addEventListener("loadedmetadata",function(){function t(){i._markInElement.addEventListener("mousedown",r);i._markInElement.addEventListener("touchstart",r);i._markInElement.addEventListener("pointerdown",r);i._amveUX.addContainerEventListener("mouseup",u);i._amveUX.addContainerEventListener("touchend",u);i._amveUX.addContainerEventListener("pointerup",u);i._markOutElement.addEventListener("mousedown",f);i._markOutElement.addEventListener("touchstart",f);i._markOutElement.addEventListener("pointerdown",f);i._amveUX.addContainerEventListener("mouseup",e);i._amveUX.addContainerEventListener("touchend",e);i._amveUX.addContainerEventListener("pointerup",e);i._markControlElement.addEventListener("mousemove",o);i._markControlElement.addEventListener("touchmove",o);i._markControlElement.addEventListener("pointermove",o);i._amveUX.clipData.addPropertyChangedListener("markInPT",function(){i.onMark()});i._amveUX.clipData.addPropertyChangedListener("markOutPT",function(){i.onMark()});i._amveUX.player.addEventListener("resize",function(){i.onMark()});i._amveUX.player.addEventListener("timeupdate",function(){i.positionMarkIn(!0,null);i._amveUX.mode!=n.EditorModes.Trim&&i.positionMarkOut(!0,null);i.positionMarkFill()})}i._amveUX.player.addEventListener("loadeddata",t)})}return t.prototype.onMark=function(){this.positionMarkIn(!0,null);this._amveUX.mode!=n.EditorModes.Trim&&this.positionMarkOut(!0,null);this.positionMarkFill()},t.prototype.positionMarkIn=function(n,t){var r=this._amveUX.fromMediaTime(this._amveUX.clipData.markIn),e=this._amveUX.fromMediaTime(this._amveUX.clipData.markOut),u;if(n)r>=0?(u=this._amveUX.getCWPercentage(r,this._markControlElement),u<0&&(u=0),this._markInElement.style.left=u+"px",this._markInElement.style.display="block"):(this._markInElement.style.left="0px",this._markInElement.style.display="none",this._markInWarning.innerText="",this._markInWarning.style.display="none");else{var f=this._amveUX.player.duration(),i=this._amveUX.calculateDistanceX(t,this._markControlElement)*f,o=0;r>=0&&(o=i-r);i<=0&&(i=0);i>=f&&(i=f);(e<=0||i<=e-this._amveUX.minClipDuration)&&(this._markInElement.style.left=this._amveUX.getCWPercentage(i,this._markControlElement)+"px",this._markInElement.style.display="block",this._amveUX.clipData.markInPT=i)}},t.prototype.positionMarkOut=function(n,t){var u=this._amveUX.fromMediaTime(this._amveUX.clipData.markIn),e=this._amveUX.fromMediaTime(this._amveUX.clipData.markOut),r;if(n)this._amveUX.clipData.markOutPT>0?(r=this._amveUX.getCWPercentage(e,this._markControlElement),r>this._markControlElement.clientWidth&&(r=this._markControlElement.clientWidth),this._markOutElement.style.left=r-20+"px",this._markOutElement.style.display="block"):(this._markOutElement.style.left=this._markControlElement.clientWidth+"px",this._markOutElement.style.display="none",this._markOutWarning.innerText="",this._markOutWarning.style.display="none");else{var f=this._amveUX.player.duration(),i=this._amveUX.calculateDistanceX(t,this._markControlElement)*f,o=0;u>=0&&(o=i-e);i<=0&&(i=0);i>=f&&(i=f);(u<0||i>=u+this._amveUX.minClipDuration)&&(r=this._amveUX.getCWPercentage(i,this._markControlElement),r>this._markControlElement.clientWidth&&(r=this._markControlElement.clientWidth),this._markOutElement.style.left=r-this._markOutElement.clientWidth/2+"px",this._markOutElement.style.display="block",this._amveUX.clipData.markOutPT=i)}},t.prototype.positionMarkFill=function(){var t=this._amveUX.fromMediaTime(this._amveUX.clipData.markIn),u=this._amveUX.fromMediaTime(this._amveUX.clipData.markOut),f,i;if(t>=0&&(this._amveUX.mode==n.EditorModes.Trim||u>0)){f=this._amveUX.getDurationPercentage(t);i=this._amveUX.getDurationPercentage(u);this._amveUX.mode==n.EditorModes.Trim&&(i=this._amveUX.getDurationPercentage(this._amveUX.player.duration()));var o=i-f,r=this._amveUX.getCWPercentage(t,this._markControlElement),e=Math.round(this._markControlElement.clientWidth*o);this._markFillElement.style.left=r+"px";this._markFillElement.style.width=e+"px";this._markInElement.style.left=r+"px";this._markOutElement.style.left=r+e-this._markOutElement.clientWidth/2+"px";this._markFillElement.style.display="block"}else this._markFillElement.style.display="none"},Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this._markControlElement.clientHeight},enumerable:!0,configurable:!0}),t}();n.AMVEMarkControlBar=t}(AMVE||(AMVE={})),function(n){var t=function(){function n(n){function f(){h(!0)}function e(){setTimeout(h,300)}function o(){r=!0}function s(){r=!1;h(!1)}function a(){var r=t._amveUX.findPosition(t._controlBarElement);t._volumeBar.style.display="block";t._volumeBar.style.top=r.top-t._volumeBar.clientHeight-t._controlBarElement.clientHeight-t._volumeButton.clientHeight*2-60+"px";t._volumeBar.style.left=t._controlBarElement.clientWidth-t._volumeBar.clientWidth-t._volumeButton.clientWidth/2-8+"px";t._volumeButton.classList.remove("amve-muted");var u=t._amveUX.player.volume(),n=t._volumeTrack.clientHeight*u,i=t._volumeTrack.clientHeight-n;t._volumeFill.style.height=n+"px";t._volumeFill.style.top=i+"px";t._volumeFill.style.display="block";t._volumeHandle.style.top=i+"px";t._volumeHandle.style.display="block"}function h(n){n===void 0&&(n=!1);r==!0||n?a():t._volumeBar.style.display="none"}function c(){u=!0}function i(){u=!1}function l(n){var r,i,f,e;u&&(r=t._amveUX.calculateDistanceY(n,t._volumeBar),i=1-r,i<0&&(i=0),i>0?(t._amveUX.player.volume(i),f=t._amveUX.player.volume(),e=1):t._amveUX.player.muted(!0))}var t,r,u;this._fwdRwdTimeoutInterval=25;this._maxFwdRwdMultiplier=8;this._fwdRwdStep=.3;this._fwdRwdMultiplier=1;this._rwdFlag=!1;this._fwdFlag=!1;t=this;this._amveUX=n;this._fwdRwdStep=this._amveUX.frameRateVal();this._controlBarElement=this._amveUX.createElement(["amve-player-controlbar"]);this._amveUX.appendBottomChild(this._controlBarElement);this._volumeBar=this._amveUX.createElement(["amve-volume-bar"]);this._volumeTrack=this._amveUX.createElement(["amve-volume-track"]);this._volumeBar.appendChild(this._volumeTrack);this._volumeFill=this._amveUX.createElement(["amve-volume-fill"]);this._volumeBar.appendChild(this._volumeFill);this._volumeHandle=this._amveUX.createElement(["amve-volume-handle"]);this._volumeBar.appendChild(this._volumeHandle);this._amveUX.appendChild(this._volumeBar);this._leftCol=this._amveUX.createElement(["amve-left-column"]);this._controlBarElement.appendChild(this._leftCol);this._centerCol=this._amveUX.createElement(["amve-center-column"]);this._controlBarElement.appendChild(this._centerCol);this._rightCol=this._amveUX.createElement(["amve-right-column"]);this._controlBarElement.appendChild(this._rightCol);this._playBtn=this._amveUX.createElement(["amve-btn","amve-btn-control","amve-play-btn"]);this._leftCol.appendChild(this._playBtn);this._rwdBtn=this._amveUX.createElement(["amve-btn","amve-btn-control","amve-rwd-btn"]);this._leftCol.appendChild(this._rwdBtn);this._fwdBtn=this._amveUX.createElement(["amve-btn","amve-btn-control","amve-fwd-btn"]);this._leftCol.appendChild(this._fwdBtn);this._liveBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-live-btn"]);this._liveBtn.innerHTML="LIVE";this._liveBtn.style.display="none";this._leftCol.appendChild(this._liveBtn);this._timeDisplay=this._amveUX.createElement(["amve-time-display"]);this._centerCol.appendChild(this._timeDisplay);this._volumeButton=this._amveUX.createElement(["amve-btn","amve-btn-control","amve-volume-btn"]);this._rightCol.appendChild(this._volumeButton);this._amveUX.player.addEventListener("timeupdate",function(){if(t._amveUX.player.isLive()){var n=t._amveUX.player.currentTime(),i=t._amveUX.player.duration()-15;n>=i?(t._amveUX.trigger("liveedgeon"),t._timeDisplay.innerText="LIVE / "+t._amveUX.formatTime(t._amveUX.player.duration())):(t._amveUX.trigger("liveedgeoff"),t._timeDisplay.innerText=t._amveUX.formatTime(t._amveUX.player.currentTime())+" / "+t._amveUX.formatTime(t._amveUX.player.duration()))}else t._timeDisplay.innerText=t._amveUX.formatTime(t._amveUX.player.currentTime())+" / "+t._amveUX.formatTime(t._amveUX.player.duration());t._timeDisplay.style.display="block"});this._amveUX.addEventListener("reset",function(){t.resetFwdRwd()});this._amveUX.addEventListener("liveedgeon",function(){t._liveBtn.classList.add("amve-live-edge")});this._amveUX.addEventListener("liveedgeoff",function(){t._liveBtn.classList.remove("amve-live-edge")});this._playBtn.addEventListener("click",function(){t.resetFwdRwd();t._amveUX.player.paused()?t._amveUX.player.play():t._amveUX.player.pause()});this._amveUX.player.addEventListener("loadedmetadata",function(){t._liveBtn.style.display=t._amveUX.player.isLive()?"block":"none"});this._liveBtn.addEventListener("click",function(){t._amveUX.player.paused()&&t._amveUX.player.play();t._amveUX.player.currentTime(t._amveUX.player.duration())});this._rwdBtn.addEventListener("click",function(){t.rwd()});this._fwdBtn.addEventListener("click",function(){t.ffwd()});this._volumeButton.addEventListener("pointerenter",f);this._volumeButton.addEventListener("mouseenter",f);this._volumeButton.addEventListener("touchenter",f);this._volumeButton.addEventListener("pointerleave",e);this._volumeButton.addEventListener("mouseleave",e);this._volumeButton.addEventListener("touchleave",e);this._volumeBar.addEventListener("pointerenter",o);this._volumeBar.addEventListener("mouseenter",o);this._volumeBar.addEventListener("touchenter",o);this._volumeBar.addEventListener("pointerleave",s);this._volumeBar.addEventListener("mouseleave",s);this._volumeBar.addEventListener("touchleave",s);this._volumeHandle.addEventListener("mousedown",c);this._volumeHandle.addEventListener("touchstart",c);this._volumeHandle.addEventListener("pointerdown",c);this._volumeBar.addEventListener("mouseup",i);this._volumeBar.addEventListener("touchend",i);this._volumeBar.addEventListener("pointerup",i);this._volumeBar.addEventListener("mousemove",l);this._volumeBar.addEventListener("touchmove",l);this._volumeBar.addEventListener("pointermove",l);this._volumeBar.addEventListener("pointerleave",i);this._volumeBar.addEventListener("mouseleave",i);this._volumeBar.addEventListener("touchleave",i);r=!1;u=!1;t._amveUX.player.addEventListener("volumechange",function(){var i=t._amveUX.player.muted(),n=t._amveUX.player.volume(),r;i==!0||n==0?(r=t._volumeTrack.clientHeight*n,t._volumeButton.classList.add("amve-muted"),t._volumeFill.style.display="none",t._volumeHandle.style.top=t._volumeTrack.clientHeight+"px"):a()});t._volumeButton.addEventListener("click",function(){var n=t._amveUX.player.muted();t._amveUX.player.muted(!n)});t._amveUX.player.addEventListener("play",function(){t.resetFwdRwd();t._playBtn.classList.add("amve-playing")});t._amveUX.player.addEventListener("pause",function(){t.resetFwdRwd();t._playBtn.classList.remove("amve-playing")})}return Object.defineProperty(n.prototype,"clientHeight",{get:function(){return this._controlBarElement.clientHeight},enumerable:!0,configurable:!0}),n.prototype.rwd=function(){var n=this;this._fwdFlag==!0?this.resetFwd():this._rwdFlag==!1?(this.resetFwdRwd(),this._rwdFlag=!0,this.setFwdRwdIcon(this._rwdBtn,2),this._rwdInterval=setInterval(function(){if(n._rwdFlag){var t=n._amveUX.player.currentTime()-n._fwdRwdStep*n._fwdRwdMultiplier;t>=0&&n._amveUX.player.currentTime(t)}},this._fwdRwdTimeoutInterval),this._fwdRwdMultiplier=2):this._fwdRwdMultiplier<this._maxFwdRwdMultiplier&&(this._fwdRwdMultiplier*=2,this.setFwdRwdIcon(this._rwdBtn))},n.prototype.ffwd=function(){var n=this;this._rwdFlag==!0?this.resetRwd():this._fwdFlag==!1?(this.resetFwdRwd(),this._fwdFlag=!0,this.setFwdRwdIcon(this._fwdBtn,2),this._fwdInterval=setInterval(function(){if(n._fwdFlag){var t=n._amveUX.player.currentTime()+n._fwdRwdStep*n._fwdRwdMultiplier;t<=n._amveUX.player.duration()&&n._amveUX.player.currentTime(t)}},this._fwdRwdTimeoutInterval),this._fwdRwdMultiplier=2):this._fwdRwdMultiplier<this._maxFwdRwdMultiplier&&(this._fwdRwdMultiplier*=2,this.setFwdRwdIcon(this._fwdBtn))},n.prototype.resetFwdRwd=function(){this.resetRwd();this.resetFwd()},n.prototype.resetRwd=function(){this._rwdFlag=!1;this._rwdInterval&&clearInterval(this._rwdInterval);this._fwdRwdMultiplier=1;this.setFwdRwdIcon(this._rwdBtn,1)},n.prototype.resetFwd=function(){this._fwdFlag=!1;this._fwdInterval&&clearInterval(this._fwdInterval);this._fwdRwdMultiplier=1;this.setFwdRwdIcon(this._fwdBtn,1)},n.prototype.setFwdRwdIcon=function(n,t){t===void 0&&(t=-1);for(var i=1;i<=this._maxFwdRwdMultiplier;i*=2)n.classList.remove("speed-"+i+"x");t>0?n.classList.add("speed-"+t+"x"):n.classList.add("speed-"+this._fwdRwdMultiplier+"x")},n}();n.AMVEPlayerControlBar=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(t){function s(){i._isScrubbing||(o(null),u())}function h(){o(null);u()}function u(){if(i._amveUX.clipData.markIn>=0&&(i._amveUX.mode==n.EditorModes.Trim||i._amveUX.clipData.markOut>0)){var t=i._amveUX.fromMediaTime(i._amveUX.clipData.markIn),r=i._amveUX.fromMediaTime(i._amveUX.clipData.markOut),u=i._amveUX.getDurationPercentage(t),f=i._amveUX.mode==n.EditorModes.Trim?1:i._amveUX.getDurationPercentage(r),e=f-u,o=i._amveUX.getCWPercentage(t,i._scrubberElement),s=Math.round(i._scrubberElement.clientWidth*e);i._scrubberMarkFillElement.style.left=o+"px";i._scrubberMarkFillElement.style.width=s+"px";i._scrubberMarkFillElement.style.display="block"}else i._scrubberMarkFillElement.style.display="none"}function r(){i._scrubberElement.style.cursor="pointer";i._isScrubbing=!0;i._amveUX.isScrubbing=!0}function f(n){if(i._isScrubbing){i._scrubberElement.style.cursor="default";i._isScrubbing=!1;var r=i._amveUX.player.duration(),t=i._amveUX.calculateDistanceX(n,i._scrubberElement)*r;t!=i._amveUX.player.currentTime()&&(t==r&&(t=t-.1),i._amveUX.player.currentTime(t));i._amveUX.isScrubbing=!1}}function e(n){i._isScrubbing&&o(n)}function o(n){var t=i._amveUX.player.currentTime(),r=i._amveUX.player.duration();i._isScrubbing&&n&&(t=i._amveUX.calculateDistanceX(n,i._scrubberElement)*r,t==r&&(t=t-.1));var f=i._amveUX.findPosition(i._amveUX.containerElement),e=i._amveUX.findPosition(i._scrubberElement),u=i._amveUX.getCWPercentage(t,i._scrubberElement),o=e.left-f.left-i._scrubberHandleElement.clientWidth+10+u;i._scrubberHandleElement.style.left=o+"px";i._scrubberProgressElement.style.width=u+"px"}this._scrubbingTimeoutFlag=!1;this._scrubbingTimeoutInterval=1e3;this._isScrubbing=!1;this._lastTime=0;this._zoomFactor=0;this._maxZoom=8;var i=this;this._amveUX=t;this._amveUX.player.addEventListener("timeupdate",s);this._amveUX.player.addEventListener("resize",h);this._amveUX.clipData.addPropertyChangedListener("markInPT",u);this._amveUX.clipData.addPropertyChangedListener("markOutPT",u);this._scrubberElement=this._amveUX.createElement(["amve-scrubber"]);this._amveUX.appendBottomChild(this._scrubberElement);this._scrubberZoomElement=this._amveUX.createElement(["amve-scrubber-zoom"]);this._scrubberElement.appendChild(this._scrubberZoomElement);this._scrubberZoomInElement=this._amveUX.createElement(["amve-btn","amve-scrubber-zoom-in"]);this._scrubberZoomElement.appendChild(this._scrubberZoomInElement);this._scrubberZoomOutElement=this._amveUX.createElement(["amve-btn","amve-scrubber-zoom-out"]);this._scrubberZoomElement.appendChild(this._scrubberZoomOutElement);this._scrubberProgressElement=this._amveUX.createElement(["amve-scrubber-progress"]);this._scrubberElement.appendChild(this._scrubberProgressElement);this._scrubberMarkFillElement=this._amveUX.createElement(["amve-scrubber-markfill"]);this._scrubberElement.appendChild(this._scrubberMarkFillElement);this._scrubberHandleElement=this._amveUX.createElement(["amve-scrubber-handle"]);this._amveUX.appendBottomChild(this._scrubberHandleElement);this._scrubberHandleElement.addEventListener("mousedown",r);this._scrubberHandleElement.addEventListener("touchstart",r);this._scrubberHandleElement.addEventListener("pointerdown",r);this._scrubberElement.addEventListener("mousedown",r);this._scrubberElement.addEventListener("touchstart",r);this._scrubberElement.addEventListener("pointerdown",r);this._amveUX.addContainerEventListener("mouseup",f);this._amveUX.addContainerEventListener("touchend",f);this._amveUX.addContainerEventListener("pointerup",f);this._amveUX.addContainerEventListener("mouseleave",f);this._amveUX.addContainerEventListener("mousemove",e);this._amveUX.addContainerEventListener("touchmove",e);this._amveUX.addContainerEventListener("pointermove",e)}return Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this._scrubberElement.clientHeight},enumerable:!0,configurable:!0}),t}();n.AMVEScrubber=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(t){function r(n,t){t===void 0&&(t=!1);var r=i._amveUX.createElement(null,"option");return r.innerText=i._amveUX.frameRateToString(n),r.value=""+n,r.selected=t,r}var i=this;this._amveUX=t;this._settingsContainer=this._amveUX.createElement(["amve-modal","amve-settings"]);this._amveUX.appendChild(this._settingsContainer);this._settingsDialogContent=this._amveUX.createElement(["amve-modal-content","amve-settings-content"]);this._settingsContainer.appendChild(this._settingsDialogContent);this._settingsTitleBar=this._amveUX.createElement(["amve-settings-title-bar"]);this._settingsDialogContent.appendChild(this._settingsTitleBar);this._leftColTop=this._amveUX.createElement(["amve-left-column"]);this._settingsTitleBar.appendChild(this._leftColTop);this._rightColTop=this._amveUX.createElement(["amve-right-column"]);this._settingsTitleBar.appendChild(this._rightColTop);this._settingsTitle=this._amveUX.createElement(["amve-settings-title"]);this._settingsTitle.innerHTML="settings";this._leftColTop.appendChild(this._settingsTitle);this._settingsCloseBtn=this._amveUX.createElement(["amve-btn-control","amve-close-btn"]);this._rightColTop.appendChild(this._settingsCloseBtn);this._settingsFrameRateLabel=this._amveUX.createElement(["amve-settings-framerate-label"]);this._settingsFrameRateLabel.innerHTML="frame rate:";this._settingsDialogContent.appendChild(this._settingsFrameRateLabel);this._settingsFrameRateInput=this._amveUX.createElement(["amve-settings-framerate-input"],"select");this._settingsFrameRateInput.add(r(n.AMVEFrameRates.TwentyThreeNineSevenSixFPS));this._settingsFrameRateInput.add(r(n.AMVEFrameRates.TwentyFiveFPS));this._settingsFrameRateInput.add(r(n.AMVEFrameRates.TwentyNineNineSevenSixFPS));this._settingsFrameRateInput.add(r(n.AMVEFrameRates.ThirtyFPS,!0));this._settingsFrameRateInput.add(r(n.AMVEFrameRates.SixtyFPS));this._settingsDialogContent.appendChild(this._settingsFrameRateInput);this._settingsThumbnailCountLabel=this._amveUX.createElement(["amve-settings-thumbnailcount-label"]);this._settingsThumbnailCountLabel.innerHTML="# of thumbnail choices:";this._settingsDialogContent.appendChild(this._settingsThumbnailCountLabel);this._settingsThumbnailCount=this._amveUX.createElement(["amve-settings-thumbnailcount"]);this._settingsDialogContent.appendChild(this._settingsThumbnailCount);this._settingsThumbnailCountInput=this._amveUX.createElement(["amve-settings-thumbnailcount-input"],"input");this._settingsThumbnailCountInput.setAttribute("type","range");this._settingsThumbnailCountInput.min="1";this._settingsThumbnailCountInput.max="10";this._settingsThumbnailCountInput.step="1";this._settingsThumbnailCountInput.value=""+this._amveUX.thumbnailCount;this._settingsThumbnailCount.appendChild(this._settingsThumbnailCountInput);this._settingsThumbnailCountDisplay=this._amveUX.createElement(["amve-settings-thumbnailcount-display"]);this._settingsThumbnailCountDisplay.innerHTML=""+this._amveUX.thumbnailCount;this._settingsThumbnailCount.appendChild(this._settingsThumbnailCountDisplay);this._settingsCloseBtn.addEventListener("click",function(){i._amveUX.toggleSettingsDlg(0)});this._settingsThumbnailCountInput.addEventListener("change",function(){i._settingsThumbnailCountDisplay.innerHTML=i._settingsThumbnailCountInput.value;i._settingsThumbnailCountInput.valueAsNumber&&i._settingsThumbnailCountInput.valueAsNumber!=i._amveUX.thumbnailCount&&(i._amveUX.thumbnailCount=i._settingsThumbnailCountInput.valueAsNumber)});this._settingsFrameRateInput.addEventListener("change",function(){var t=i._settingsFrameRateInput.options[i._settingsFrameRateInput.selectedIndex],n;t&&(n=parseInt(t.value),isNaN(n)||(i._amveUX.frameRate=n))})}return t.prototype.resize=function(){var n=(this._amveUX.clientHeight-this.clientHeight)/2;this._settingsDialogContent.style.top=n+"px"},Object.defineProperty(t.prototype,"clientWidth",{get:function(){return this._settingsDialogContent.clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this._settingsDialogContent.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._settingsContainer.style},enumerable:!0,configurable:!0}),t}();n.AMVESettingsDialog=t}(AMVE||(AMVE={})),function(n){var t=function(){function n(n){function o(){t._submitDialogThumbnailsContainer.style.display="none";t._submitDialogThumbnailsSpinner.style.display="block";t._currentThumbnailIndex=0;t._selectedThumbnailIndex=-1;t._submitDialogThumbnails&&t._submitDialogThumbnails.forEach(function(n){n.style.display="none";n.classList.remove("amve-selected")})}function s(n,i){var r,u;t._amveUX.thumbnails&&i<t._amveUX.thumbnails.length?(r=t._amveUX.thumbnails[i],r?(u=t._amveUX.formatTime(r.time),n.alt=u,n.title=u,n.setAttribute("src",r.dataUrl),n.style.display="block",t._selectedThumbnailIndex==i?n.classList.add("amve-selected"):n.classList.remove("amve-selected")):(n.classList.remove("amve-selected"),n.style.display="none")):(n.classList.remove("amve-selected"),n.style.display="none")}function e(){t._amveUX.thumbnails&&t._amveUX.thumbnails.length>0&&(t._currentThumbnailIndex<0?t._currentThumbnailIndex=0:t._currentThumbnailIndex>t._amveUX.thumbnails.length-3&&(t._currentThumbnailIndex=t._amveUX.thumbnails.length-3),t._submitDialogThumbnails&&t._submitDialogThumbnails.forEach(function(n,i){var r=t._currentThumbnailIndex+i;r<t._amveUX.thumbnails.length?s(n,r):n.style.display="none"}),t._submitDialogThumbnailsLeftArrow.classList.add("amve-btn-disabled"),t._submitDialogThumbnailsRightArrow.classList.add("amve-btn-disabled"),t._amveUX.thumbnails.length>3&&(t._currentThumbnailIndex>0&&t._submitDialogThumbnailsLeftArrow.classList.remove("amve-btn-disabled"),t._currentThumbnailIndex<t._amveUX.thumbnails.length-3&&t._submitDialogThumbnailsRightArrow.classList.remove("amve-btn-disabled")));t._submitDialogThumbnailsSpinner.style.display="none";t._submitDialogThumbnailsContainer.style.display="block"}var t,r,i,u,f;for(this._numThumbnailsToDisplay=3,this._currentThumbnailIndex=0,this._selectedThumbnailIndex=0,t=this,this._amveUX=n,this._submitDialogContainer=this._amveUX.createElement(["amve-modal","amve-submitdlg-entry"]),this._amveUX.appendChild(this._submitDialogContainer),this._submitDialogContent=this._amveUX.createElement(["amve-modal-content","amve-submitdlg-entry-content"]),this._submitDialogContainer.appendChild(this._submitDialogContent),this._submitDialogTop=this._amveUX.createElement(["amve-submitdlg-entry-top"]),this._submitDialogContent.appendChild(this._submitDialogTop),this._submitDialogThumbnailsSpinner=this._amveUX.createElement(["amve-submitdlg-entry-thumbnails-spinner"]),this._submitDialogContent.appendChild(this._submitDialogThumbnailsSpinner),this._submitDialogThumbnailsContainer=this._amveUX.createElement(["amve-submitdlg-entry-thumbnails"]),this._submitDialogContent.appendChild(this._submitDialogThumbnailsContainer),this._submitDialogMiddle=this._amveUX.createElement(["amve-submitdlg-entry-middle"]),this._submitDialogContent.appendChild(this._submitDialogMiddle),this._submitDialogBottom=this._amveUX.createElement(["amve-submitdlg-entry-bottom"]),this._submitDialogContent.appendChild(this._submitDialogBottom),this._leftColTop=this._amveUX.createElement(["amve-left-column"]),this._submitDialogTop.appendChild(this._leftColTop),this._rightColTop=this._amveUX.createElement(["amve-right-column"]),this._submitDialogTop.appendChild(this._rightColTop),this._submitDialogTitle=this._amveUX.createElement(["amve-submitdlg-title"]),this._submitDialogTitle.innerHTML="export media",this._leftColTop.appendChild(this._submitDialogTitle),this._submitDialogCloseBtn=this._amveUX.createElement(["amve-btn-control","amve-close-btn"]),this._rightColTop.appendChild(this._submitDialogCloseBtn),this._submitDialogThumbnailsLeftArrow=this._amveUX.createElement(["amve-btn-control","amve-chevron-left","amve-thumbnails-leftarrow","amve-btn-disabled"]),this._submitDialogThumbnailsContainer.appendChild(this._submitDialogThumbnailsLeftArrow),this._submitDialogThumbnails=[],r=0;r<this._numThumbnailsToDisplay;r++)i=this._amveUX.createElement(["amve-thumbnail"],"img"),this._submitDialogThumbnailsContainer.appendChild(i),this._submitDialogThumbnails.push(i),i.addEventListener("click",function(n){var r=n.currentTarget;t._submitDialogThumbnails.forEach(function(n){n!=r&&n.classList.remove("amve-selected")});r.classList.contains("amve-selected")?(t._selectedThumbnailIndex=-1,i.classList.remove("amve-selected")):(r.classList.add("amve-selected"),t._selectedThumbnailIndex=t._currentThumbnailIndex)});this._submitDialogThumbnailsRightArrow=this._amveUX.createElement(["amve-btn-control","amve-chevron-right","amve-thumbnails-rightarrow","amve-btn-disabled"]);this._submitDialogThumbnailsContainer.appendChild(this._submitDialogThumbnailsRightArrow);this._submitDialogEntryTitle=this._amveUX.createElement(["amve-submitdlg-entry-title"],"input");this._submitDialogEntryTitle.setAttribute("type","text");this._submitDialogEntryTitle.value="Title...";this._submitDialogMiddle.appendChild(this._submitDialogEntryTitle);u=function(){t._submitDialogEntryTitle.removeEventListener("focus",u);t._submitDialogEntryTitle.value=""};this._submitDialogEntryTitle.addEventListener("focus",u);this._submitDialogDescription=this._amveUX.createElement(["amve-submitdlg-entry-description"],"textarea");this._submitDialogDescription.value="Description...";this._submitDialogMiddle.appendChild(this._submitDialogDescription);f=function(){t._submitDialogDescription.removeEventListener("focus",f);t._submitDialogDescription.value=""};this._submitDialogDescription.addEventListener("focus",f);this._submitDialogCustom=this._amveUX.createElement(["amve-submitdlg-entry-custom"]);this._submitDialogMiddle.appendChild(this._submitDialogCustom);this._submitDialogBottomMargin=this._amveUX.createElement(["amve-margin"]);this._submitDialogBottom.appendChild(this._submitDialogBottomMargin);this._submitDialogCancelBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-cancel-btn"]);this._submitDialogCancelBtn.innerHTML="cancel";this._submitDialogBottom.appendChild(this._submitDialogCancelBtn);this._submitDialogSubmitBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-submit-btn"]);this._submitDialogSubmitBtn.innerHTML="submit";this._submitDialogBottom.appendChild(this._submitDialogSubmitBtn);this._submitDialogCloseBtn.addEventListener("click",function(){t._amveUX.toggleSubmitDlg(0)});this._submitDialogCancelBtn.addEventListener("click",function(){t._amveUX.clipData.isClipCompleted=!1});this._submitDialogThumbnailsLeftArrow.addEventListener("click",function(){!t._submitDialogThumbnailsLeftArrow.classList.contains("amve-btn-disabled")&&t._currentThumbnailIndex>0&&(t._currentThumbnailIndex--,e())});this._submitDialogThumbnailsRightArrow.addEventListener("click",function(){!t._submitDialogThumbnailsRightArrow.classList.contains("amve-btn-disabled")&&t._currentThumbnailIndex<t._amveUX.thumbnails.length-3&&(t._currentThumbnailIndex++,e())});this._submitDialogSubmitBtn.addEventListener("click",function(){t._amveUX.clipData.title=t._submitDialogEntryTitle.value;t._amveUX.clipData.description=t._submitDialogDescription.value;t._amveUX.thumbnails&&t._amveUX.thumbnails.length>0&&t._selectedThumbnailIndex<t._amveUX.thumbnails.length&&(t._amveUX.clipData.thumbnail=t._amveUX.thumbnails[t._selectedThumbnailIndex]);t._amveUX.clipData.isClipCompleted=!0});this._amveUX.addPropertyChangedListener("isThumbnailsGenerating",function(){t._amveUX.isThumbnailsGenerating?(o(),t.resize()):(t._currentThumbnailIndex=0,o(),e(),t.resize())})}return n.prototype.resize=function(){var n=(this._amveUX.clientHeight-this.clientHeight)/2+100;this._submitDialogContent.style.top=n+"px"},Object.defineProperty(n.prototype,"customMetadataContainer",{set:function(n){n&&(n.parentElement&&n.parentElement.removeChild(n),this._submitDialogCustom.appendChild(n),this._submitDialogCustom.style.display="block")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientWidth",{get:function(){return this._submitDialogContent.clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientHeight",{get:function(){return this._submitDialogContent.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this._submitDialogContainer.style},enumerable:!0,configurable:!0}),n}();n.AMVESubmitDialog=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(t){function r(){switch(i._amveUX.mode){case n.EditorModes.Trim:i._trimBtn.classList.contains("amve-selected")||i._trimBtn.classList.add("amve-selected");i._virtualBtn.classList.contains("amve-selected")&&i._virtualBtn.classList.remove("amve-selected");i._renderedBtn.classList.contains("amve-selected")&&i._renderedBtn.classList.remove("amve-selected");break;case n.EditorModes.Virtual:i._trimBtn.classList.contains("amve-selected")&&i._trimBtn.classList.remove("amve-selected");i._virtualBtn.classList.contains("amve-selected")||i._virtualBtn.classList.add("amve-selected");i._renderedBtn.classList.contains("amve-selected")&&i._renderedBtn.classList.remove("amve-selected");break;case n.EditorModes.Rendered:i._trimBtn.classList.contains("amve-selected")&&i._trimBtn.classList.remove("amve-selected");i._virtualBtn.classList.contains("amve-selected")&&i._virtualBtn.classList.remove("amve-selected");i._renderedBtn.classList.contains("amve-selected")||i._renderedBtn.classList.add("amve-selected")}}this._submitDialogDisplayToggle=!1;var i=this;this._amveUX=t;this._controlBarElement=this._amveUX.createElement(["amve-top-controlbar"]);this._amveUX.appendChild(this._controlBarElement);this._leftCol=this._amveUX.createElement(["amve-left-column"]);this._controlBarElement.appendChild(this._leftCol);this._rightCol=this._amveUX.createElement(["amve-right-column"]);this._controlBarElement.appendChild(this._rightCol);this._submitDialogTitle=this._amveUX.createElement(["amve-submitdlg-title"]);this._leftCol.appendChild(this._submitDialogTitle);this._topMenu=this._amveUX.createElement(["amve-top-menu"]);this._rightCol.appendChild(this._topMenu);this._trimBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-trim-btn"]);this._trimBtn.innerHTML="trim";this._trimBtn.title=n.Tooltips.Trim;this._topMenu.appendChild(this._trimBtn);this._virtualBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-virtual-btn"]);this._virtualBtn.innerHTML="virtual";this._virtualBtn.title=n.Tooltips.Virtual;this._topMenu.appendChild(this._virtualBtn);this._renderedBtn=this._amveUX.createElement(["amve-btn","amve-btn-text","amve-rendered-btn"]);this._renderedBtn.innerHTML="rendered";this._renderedBtn.title=n.Tooltips.Rendered;this._topMenu.appendChild(this._renderedBtn);this._settingsBtn=this._amveUX.createElement(["amve-btn","amve-btn-control","amve-settings-btn"]);this._topMenu.appendChild(this._settingsBtn);this._amveUX.addPropertyChangedListener("mode",r);this._settingsBtn.addEventListener("click",function(){i._amveUX.toggleSettingsDlg()});r();this._trimBtn.addEventListener("click",function(){i._amveUX.mode!=n.EditorModes.Trim&&(i._amveUX.mode=n.EditorModes.Trim)});this._virtualBtn.addEventListener("click",function(){i._amveUX.mode!=n.EditorModes.Virtual&&(i._amveUX.mode=n.EditorModes.Virtual)});this._renderedBtn.addEventListener("click",function(){i._amveUX.mode!=n.EditorModes.Rendered&&(i._amveUX.mode=n.EditorModes.Rendered)})}return Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this._controlBarElement.clientHeight},enumerable:!0,configurable:!0}),t}();n.AMVETopControlBar=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(t){this._mode=n.EditorModes.Virtual;this._frameRate=n.AMVEFrameRates.ThirtyFPS;this.minClipDuration=1;this._lastCT=0;this.dvrWindowThresholdBoundary=30;this._thumbnailWidth=160;this._thumbnailCount=5;this._eventHandlers={};this._settingsToggle=!0;this._submitToggle=!0;this._pauseFlag=!1;this._markInLiveEdge=-1;this._markOutLiveEdge=-1;this._lastMediaTime=-1;this._lastAbsTime=-1;this._lastPlayerTime=-1;var i=this;this._amveCore=t;this._amveCore&&this._amveCore.player&&this._amveCore.containerId&&(this.player=this._amveCore.player,this.player.playerElement()&&this._amveCore.containerId&&(this._container=document.getElementById(this._amveCore.containerId),this._container&&(this._clipData=new n.AMVEClipData(this),this._container.className="amve-container",this._container.tabIndex=0,this._thumbnailGeneratorContainer=this.createElement(["amve-thumbnail-canvas-container"]),this._container.appendChild(this._thumbnailGeneratorContainer),this._thumbnailGeneratorCanvas=this.createElement(["amve-thumbnail-canvas"],"canvas"),this._thumbnailGeneratorCanvas.style.display="none",this._thumbnailGeneratorContainer.appendChild(this._thumbnailGeneratorCanvas),this._topControlBar=new n.AMVETopControlBar(this),this.player.playerElement().parentElement&&(this._playerContainer=this.createElement(["amve-player-container"]),this._container.appendChild(this._playerContainer),this.player.playerElement().parentElement.removeChild(this.player.playerElement()),this._playerContainer.appendChild(this.player.playerElement())),this._playerCoverImage=this.createElement(["amve-cover-image"],"img"),this.appendChild(this._playerCoverImage),this._bottom=this.createElement(["amve-bottom"]),this.appendChild(this._bottom),this._playerControlBar=new n.AMVEPlayerControlBar(this),this._markControlBar=new n.AMVEMarkControlBar(this),this._scrubber=new n.AMVEScrubber(this),this._bottomControlBar=new n.AMVEBottomControlBar(this),this._submitDlg=new n.AMVESubmitDialog(this),this._settingsDlg=new n.AMVESettingsDialog(this),this._animationsStyle=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(this._animationsStyle),this._amveCore.customMetadataContainerId&&(this._submitDlg.customMetadataContainer=document.getElementById(this._amveCore.customMetadataContainerId)),window.addEventListener("resize",function(){i.resize()}),this.player.addEventListener("loadedmetadata",function(){function n(){i._segmentBoundaries=i.player.segmentBoundaries();i.reset(!0);i.player.removeEventListener("loadeddata",n)}i._pauseFlag=!1;i.player.addEventListener("loadeddata",n)}),this.player.addEventListener("play",function(){i._pauseFlag==!1&&(i._pauseFlag=!0,i.player.pause())}),this.player.addEventListener("click",function(){i.player.paused()?i.player.play():i.player.pause()}),this._clipData.addPropertyChangedListener("isClipCompleted",function(){i.isClipCompletedChanged()}),this.resize(),this.setupKeyboardShortcuts(),this.player.addEventListener("timeupdate",function(){i.player.isLive()&&i.player.currentPlayableWindow()&&(i._markInLiveEdge=i.player.currentPlayableWindow().endInSec)}))))}return Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(n){n!=this._mode&&(this._mode=n,this.propertyChanged("mode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containerElement",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientWidth",{get:function(){return this._container.clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this._container.clientHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frameRate",{get:function(){return this._frameRate},set:function(n){this._frameRate=n;this.propertyChanged("frameRate")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbnailCount",{get:function(){return this._thumbnailCount},set:function(n){this._thumbnailCount=n;this.propertyChanged("thumbnailCount")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playerMargin",{get:function(){var t=this.pxToNumber(window.getComputedStyle(this.player.playerElement(),null).getPropertyValue("margin-left")),i=this.pxToNumber(window.getComputedStyle(this.player.playerElement(),null).getPropertyValue("margin-top")),r=this.pxToNumber(window.getComputedStyle(this.player.playerElement(),null).getPropertyValue("margin-right")),u=this.pxToNumber(window.getComputedStyle(this.player.playerElement(),null).getPropertyValue("margin-bottom"));return n.Box.buildBox(t,i,r,u)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clipData",{get:function(){return this._clipData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markInLiveEdge",{get:function(){return this._markInLiveEdge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markOutLiveEdge",{get:function(){return this._markOutLiveEdge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isScrubbing",{get:function(){return this._isScrubbing},set:function(n){n!=this._isScrubbing&&(this._isScrubbing=n,this.propertyChanged("isScrubbing"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isThumbnailsGenerating",{get:function(){return this._isThumbnailsGenerating},set:function(n){n!=this._isThumbnailsGenerating&&(this._isThumbnailsGenerating=n,this.propertyChanged("isThumbnailsGenerating"))},enumerable:!0,configurable:!0}),t.prototype.isClipCompletedChanged=function(){this.toggleSubmitDlg(0);this.clipData.isClipCompleted&&(this._amveCore.clipData=this.clipData)},t.prototype.resize=function(){this.resizePlayer();this._submitDlg.resize();this._settingsDlg.resize()},t.prototype.resizePlayer=function(){if(this.player){var n=this.playerMargin,t=this._container.clientWidth-n.left-n.right-2,i=this._container.clientHeight-this._topControlBar.clientHeight-this._bottomControlBar.clientHeight-n.top-n.bottom;this.player.width(t);this.player.height(i);this.player.playerElement().width=t;this.player.playerElement().height=i}},t.prototype.setupKeyboardShortcuts=function(){if(this._amveCore.keyboardShortcutConfig){var t=this;this._keyboardShortcutMgr=new n.KeyboardShortcutManager;this._amveCore.keyboardShortcutConfig.playPauseShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.playPauseShortcut,function(){t.player.paused()?t.player.play():t.player.pause()});this._amveCore.keyboardShortcutConfig.markInShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.markInShortcut,function(){t.clipData.markInPT=t.player.currentTime()});this._amveCore.keyboardShortcutConfig.markOutShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.markOutShortcut,function(){t.clipData.markOutPT=t.player.currentTime()});this._amveCore.keyboardShortcutConfig.goToInShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.goToInShortcut,function(){t.clipData.markInPT>=0&&t.player.currentTime(t.clipData.markInPT)});this._amveCore.keyboardShortcutConfig.goToOutShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.goToOutShortcut,function(){t.clipData.markOutPT>=0&&t.player.currentTime(t.clipData.markOutPT)});this._amveCore.keyboardShortcutConfig.playInToOutShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.playInToOutShortcut,function(){var n=!1;t.clipData.markInPT>=0&&t.clipData.markOutPT>t.clipData.markInPT&&(t.player.pause(),t.player.currentTime(t.clipData.markInPT),t.player.addEventListener("timeupdate",function(){!n&&t.player.currentTime()>=t.clipData.markOutPT&&(t.player.pause(),n=!0)}),t.player.play())});this._amveCore.keyboardShortcutConfig.playToOutShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.playToOutShortcut,function(){var n=!1;t.clipData.markOutPT>0&&(t.player.currentAbsoluteTime()>=t.clipData.markOutPT&&t.player.currentTime(t.clipData.markOutPT-3),t.player.pause(),t.player.addEventListener("timeupdate",function(){!n&&t.player.currentAbsoluteTime()>=t.clipData.markOutPT&&(t.player.pause(),n=!0)}),t.player.play())});this._amveCore.keyboardShortcutConfig.rwdShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.rwdShortcut,function(){t._playerControlBar.rwd()});this._amveCore.keyboardShortcutConfig.ffwdShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.ffwdShortcut,function(){t._playerControlBar.ffwd()});this._amveCore.keyboardShortcutConfig.backOneFrameShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.backOneFrameShortcut,function(){var r,i;t.mode==n.EditorModes.Rendered&&(r=t.player.currentTime(),r>0&&(i=t.prevFrame(r),i<=0&&(i=0),t.player.currentTime(i)))});this._amveCore.keyboardShortcutConfig.backFiveFramesShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.backFiveFramesShortcut,function(){var r,i,u;if(t.mode==n.EditorModes.Rendered&&(r=t.player.currentTime(),r>0)){for(i=t.prevFrame(r),u=0;u<4;u++)if(i=t.prevFrame(i),i<=0){i=0;break}t.player.currentTime(i)}});this._amveCore.keyboardShortcutConfig.backOneSecondShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.backOneSecondShortcut,function(){var i=t.player.currentTime(),n;i>0&&(n=i-1,n<=0&&(n=0),t.player.currentTime(n))});this._amveCore.keyboardShortcutConfig.fwdOneFrameShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.fwdOneFrameShortcut,function(){var u,i,r;t.mode==n.EditorModes.Rendered&&(u=t.player.currentTime(),i=t.player.duration(),u<i&&(r=t.nextFrame(u),r>i&&(r=i),t.player.currentTime(r)))});this._amveCore.keyboardShortcutConfig.fwdFiveFramesShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.fwdFiveFramesShortcut,function(){var u,r,i,f;if(t.mode==n.EditorModes.Rendered&&(u=t.player.currentTime(),r=t.player.duration(),u<r)){for(i=t.prevFrame(u),f=0;f<4;f++)if(i=t.nextFrame(i),i>r){i=r;break}t.player.currentTime(i)}});this._amveCore.keyboardShortcutConfig.fwdOneSecondShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.fwdOneSecondShortcut,function(){var r=t.player.currentTime(),i=t.player.duration(),n;r<i&&(n=r+1,n>i&&(n=i),t.player.currentTime(n))});this._amveCore.keyboardShortcutConfig.backOneGopShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.backOneGopShortcut,function(){var r,i;(t.mode==n.EditorModes.Virtual||t.mode==n.EditorModes.Trim)&&(r=t.player.currentTime(),r>0&&(i=t.prevGop(r),i<=0&&(i=0),t.player.currentTime(i)))});this._amveCore.keyboardShortcutConfig.fwdOneGopShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.fwdOneGopShortcut,function(){var u,i,r;(t.mode==n.EditorModes.Virtual||t.mode==n.EditorModes.Trim)&&(u=t.player.currentTime(),i=t.player.duration(),u<i&&(r=t.nextGop(u),r>i&&(r=i),t.player.currentTime(r)))});this._amveCore.keyboardShortcutConfig.markInOneFrameShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.markInOneFrameShortcut,function(){if(t.mode==n.EditorModes.Rendered&&t.clipData.markInPT>0){var i=t.prevFrame(t.clipData.markInPT);i<=0&&(i=0);t._clipData.markInPT=i}});this._amveCore.keyboardShortcutConfig.markInFiveFramesShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.markInFiveFramesShortcut,function(){var i,r;if(t.mode==n.EditorModes.Rendered&&t.clipData.markInPT>0){for(i=t.prevFrame(t.clipData.markInPT),r=0;r<4;r++)if(i=t.prevFrame(t.clipData.markInPT),i<=0){i=0;break}t._clipData.markInPT=i}});this._amveCore.keyboardShortcutConfig.markOutOneFrameShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.markOutOneFrameShortcut,function(){if(t.mode==n.EditorModes.Rendered&&t.clipData.markOutPT>0){var i=t.nextFrame(t.clipData.markOutPT),r=t.player.duration();i>r&&(i=r);t._clipData.markOutPT=i}});this._amveCore.keyboardShortcutConfig.markOutFiveFramesShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.markOutFiveFramesShortcut,function(){var i,r,u;if(t.mode==n.EditorModes.Rendered&&t.clipData.markOutPT>0){for(i=t.nextFrame(t.clipData.markOutPT),r=t.player.duration(),u=0;u<4;u++)if(i=t.nextFrame(t.clipData.markOutPT),i>r){i=r;break}t._clipData.markOutPT=i}});this._amveCore.keyboardShortcutConfig.clearInShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.clearInShortcut,function(){t._clipData.markInPT=-1});this._amveCore.keyboardShortcutConfig.clearOutShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.clearOutShortcut,function(){t._clipData.markOutPT=-1});this._amveCore.keyboardShortcutConfig.clearBothShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.clearBothShortcut,function(){t._clipData.markInPT=-1;t._clipData.markOutPT=-1});this._amveCore.keyboardShortcutConfig.changeModeVirtualShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.changeModeVirtualShortcut,function(){t.mode=n.EditorModes.Virtual});this._amveCore.keyboardShortcutConfig.changeModeRenderedShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.changeModeRenderedShortcut,function(){t.mode=n.EditorModes.Rendered});this._amveCore.keyboardShortcutConfig.changeModeTrimShortcut&&this._keyboardShortcutMgr.addShortcut(this._amveCore.keyboardShortcutConfig.changeModeTrimShortcut,function(){t.mode=n.EditorModes.Trim})}},t.prototype.pxToNumber=function(n){var t=0;return n&&n!="0"&&n.indexOf("px")>0&&(t=parseInt(n.substring(0,n.length-2))),t},t.prototype.findPosition=function(t){var i,u,r,f,e,o,s,h,c;return(t.getBoundingClientRect&&t.parentNode&&(i=n.Box.fromClientRect(t.getBoundingClientRect())),!i)?new n.Box:(u=document.documentElement,r=document.body,f=u.clientLeft||r.clientLeft||0,e=window.pageXOffset||r.scrollLeft,o=i.left+e-f,s=u.clientTop||r.clientTop||0,h=window.pageYOffset||r.scrollTop,c=i.top+h-s,i.left=Math.round(o),i.top=Math.round(c),i)},t.prototype.getDurationPercentage=function(n){var t=this.player.duration();return n==0||t==0?0:(n<0&&(n=this.player.currentTime()),n>=t)?1:n/t},t.prototype.getCWPercentage=function(n,t){var i=this.getDurationPercentage(n);return t.clientWidth*i},t.prototype.calculateDistanceX=function(n,t){var i,r,u,f;return i=this.findPosition(t),u=Math.max(t.offsetWidth,t.clientWidth),r=i.left,f=n?n.changedTouches&&n.changedTouches.length>0?n.changedTouches[0].pageX:n.pageX:0,Math.max(0,Math.min(1,(f-r)/u))},t.prototype.calculateDistanceY=function(n,t){var i,r,u,f;return i=this.findPosition(t),u=Math.max(t.offsetHeight,t.clientHeight),r=i.top,f=n?n.changedTouches?n.changedTouches[0].pageY:n.pageY:0,Math.max(0,Math.min(1,(f-r)/u))},t.prototype.createElement=function(n,t){t===void 0&&(t="div");var i=document.createElement(t);return n&&n.forEach(function(n){i.classList.add(n)}),i.tabIndex=0,i},t.prototype.appendChild=function(n){n&&this._container.appendChild(n)},t.prototype.appendBottomChild=function(n){n&&this._bottom.appendChild(n)},t.prototype.toggleSubmitDlg=function(n){var t,u,i,r;n===void 0&&(n=-1);t=this;n==0?this._submitToggle=!1:n==1&&(this._submitToggle=!0);this._submitToggle==!0?(this._submitDlg.style.display="block",t._submitDlg.resize(),u=this.player.currentTime(),this.player.currentTime(this.clipData.markInPT),i=t._playerContainer.clientWidth,r=t._playerContainer.clientHeight,this.captureThumbnail(this.clipData.markInPT,function(n){n&&(t._playerCoverImage.src=n.dataUrl,t._playerCoverImage.width=i,t._playerCoverImage.height=r,t._playerCoverImage.style.top=t._topControlBar.clientHeight+"px",t._playerCoverImage.style.display="block");t._submitToggle=!1;t.player.currentTime(u);t.generateThumbnails()},i,r)):(this._playerCoverImage.style.display="none",this._submitDlg.style.display="none",this._submitToggle=!0)},t.prototype.toggleSettingsDlg=function(n){n===void 0&&(n=-1);n==0?this._settingsToggle=!1:n==1&&(this._settingsToggle=!0);this._settingsToggle==!0?(this._settingsDlg.style.display="block",this._settingsToggle=!1):(this._settingsDlg.style.display="none",this._settingsToggle=!0)},t.prototype.checkClipDuration=function(){if(this._clipData.markInPT>=0&&(this.mode==n.EditorModes.Trim||this._clipData.markOutPT>0)){var t=this.player.duration()-this._clipData.markInPT;return this.mode!=n.EditorModes.Trim&&(t=this._clipData.markOutPT-this._clipData.markInPT),t<this.minClipDuration&&(this._clipData.markOutPT>=this.player.duration()-this.minClipDuration?this._clipData.markInPT=this._clipData.markInPT-this.minClipDuration:(this._clipData.markOutPT=this._clipData.markOutPT+this.minClipDuration,!0)),t}return this._clipData.markInPT>=0?this.player.duration()-this._clipData.markInPT:this.player.duration()},t.prototype.currentPresentationTimeOffset=function(){return this.player.currentMediaTime()-this.player.currentAbsoluteTime()},t.prototype.toMediaTime=function(n){return n>0&&this.player.isLive()?this.player.toPresentationTime(n)+this.currentPresentationTimeOffset():n},t.prototype.fromMediaTime=function(n){if(n>0&&this.player.isLive()){var t=this.currentPresentationTimeOffset();return this.player.fromPresentationTime(n-t)}return n},t.prototype.closestFrame=function(n,t){var i,r;return t===void 0&&(t=0),i=this.frameRateVal(),n%i!=0&&(r=Math.round(n/i),n=r*i),n<0?n=0:n>this.player.duration()&&(n=this.player.duration()),n},t.prototype.prevFrame=function(n){var i=this.frameRateVal(),t=this.closestFrame(n,-1)-i;return t<0&&(t=0),t},t.prototype.nextFrame=function(n){var i=this.frameRateVal(),t=this.closestFrame(n,0)+i,r=this.player.duration();return t>r&&(t=this.player.duration()),t},t.prototype.closestGop=function(n,t){var i,r,f,o,u,s,e;return t===void 0&&(t=0),i=this.player.segmentBoundaries(),r=n,i?(i.sort(function(n,t){return n-t}),this.player.isLive()&&(r=this.player.toPresentationTime(r)),f=i.indexOf(r),f!=-1&&t==0?(this.player.isLive()&&(r=this.player.fromPresentationTime(r)),r):(o=!1,r>=i[0]&&r<=i[i.length-1]?(f==-1&&(i.push(r),i.sort(function(n,t){return n-t}),o=!0,f=i.indexOf(r)),u=t<0?f-1:f+1,this.player.isLive()&&(u=t<0?u-1:u+2),u<0?u=0:u>i.length-1&&(u=i.length-1),s=i[f],e=i[u],o&&i.splice(f,1)):e=t<0?i[0]:i[i.length-1],this.player.isLive()&&(e=this.player.fromPresentationTime(e)),e)):this.player.duration()},t.prototype.prevGop=function(n){return this.closestGop(n,-1)},t.prototype.nextGop=function(n){return this.closestGop(n,1)},t.prototype.getKeyframes=function(n,t,i){var u,r,f,e;if(n===void 0&&(n=-1),t===void 0&&(t=-1),i===void 0&&(i=-1),n==-1&&(n=0),t==-1&&(t=this.player.duration()),t-n>this.frameRateVal()){for(u=[],r=this.closestFrame(n),u.push(r),f=1;r<t&&(i<1||f<i);)if(f++,e=this.nextFrame(r),e>r)r=e,u.push(r);else break;return u.sort(function(n,t){return n-t}),u}return null},t.prototype.generateThumbnails=function(){var r,u,o;if(this.isThumbnailsGenerating=!0,this.thumbnails=[],this.clipData.markInPT>=0&&(this.mode==n.EditorModes.Trim||this.clipData.markOutPT>0)){r=this.player.paused();u=this.player.currentTime();this.player.pause();var t=this,f=0,i=this.clipData.markInPT,e=t.player.duration();t.mode!=n.EditorModes.Trim&&(e=t.clipData.markOutPT);o=Math.round(t.checkClipDuration()/t.thumbnailCount);s();function s(){f<t._thumbnailCount&&i<=e?(t.player.currentTime(i),t.captureThumbnail(i,function(n){n&&t.thumbnails.push(n);i+=o;f++;s()})):(t.thumbnails.sort(function(n,t){return n.time-t.time}),t.player.currentTime(u),r==!1&&t.player.play(),t.isThumbnailsGenerating=!1)}}},t.prototype.captureThumbnail=function(t,i,r,u){var e,f,o,s,h;r===void 0&&(r=160);u===void 0&&(u=120);e=this;this.player.currentTime(t);f=this._thumbnailGeneratorCanvas;o=this.player.playerElement().getElementsByTagName("video")[0];f.width=r;f.height=u;f.style.width=r+"px";f.style.height=u+"px";s=f.getContext("2d");h=setInterval(function(){if(!e.player.seeking()){clearInterval(h);s.drawImage(o,0,0,r,u);var c=null,l=f.toDataURL("image/png",.5);l&&(c=new n.ThumbnailData(t,l,r,u,"image/png"));i(c)}},100)},t.prototype.formatTime=function(n){var f=Math.floor(n*100)%100,i=Math.floor(n%60),r=Math.floor(n/60)%60,u=Math.floor(n/3600)%3600,t="";return t=t+(u<10?"0"+u:""+u),t=t+":"+(r<10?"0"+r:""+r),t+":"+(i<10?"0"+i:""+i)},t.prototype.formatTimeWords=function(n){var f=Math.floor(n*100)%100,i=Math.floor(n%60),r=Math.floor(n/60)%60,u=Math.floor(n/3600)%3600,t="";return t=t+(u>0?u+" hours<br/>":""),t=t+(r>0?(t.length>0?" ":"")+r+" mins<br/>":""),t+(i>0?(t.length>0?" ":"")+i+" secs":"")},t.prototype.parseTime=function(n){var i=-1;if(n&&n.indexOf(":")>0){var o=n,r=0,u=0,f=0,e=0,t=o.split(":");t.length==4&&(r=parseInt(t[0]),u=parseInt(t[1]),f=parseInt(t[2]),e=parseInt(t[3]),i=r*3600+u*60+f+e/100)}return i},t.prototype.frameRateBaseVal=function(t){var i=1;switch(t){case n.AMVEFrameRates.TwentyThreeNineSevenSixFPS:i=23.976;break;case n.AMVEFrameRates.TwentyFiveFPS:i=25;break;case n.AMVEFrameRates.TwentyNineNineSevenSixFPS:i=29.976;break;case n.AMVEFrameRates.ThirtyFPS:i=30;break;case n.AMVEFrameRates.SixtyFPS:i=60}return i},t.prototype.frameRateVal=function(n){return n===void 0&&(n=null),n||(n=this.frameRate),1/this.frameRateBaseVal(n)},t.prototype.frameRateToString=function(n){return this.frameRateBaseVal(n)+" fps"},t.prototype.reset=function(n){n===void 0&&(n=!1);this._clipData.src=this.player.currentSrc();this._clipData.markInPT=-1;this._clipData.markOutPT=-1;this._markInLiveEdge=-1;this._markOutLiveEdge=-1;this.toggleSubmitDlg(0);n?this.player.isLive()&&this.player.currentPlayableWindow()&&(this.player.currentTime(this.player.fromPresentationTime(this.player.currentPlayableWindow().endInSec)),this.trigger("liveedge")):this.player.isLive()||this.player.currentTime(0);this.trigger("reset")},t.prototype.addContainerEventListener=function(n,t){this._container.addEventListener(n,t)},t.prototype.addPropertyChangedListener=function(n,t){this.addEventListener(n,t)},t.prototype.removePropertyChangedListener=function(n,t){this.removeEventListener(n,t)},t.prototype.propertyChanged=function(n){this.trigger(n)},t.prototype.addEventListener=function(n,t){this._eventHandlers[n]=this._eventHandlers[n]||[];this._eventHandlers[n].push(t)},t.prototype.removeEventListener=function(n,t){this._eventHandlers[n]=this._eventHandlers[n]||[];this._eventHandlers[n].pop(t)},t.prototype.trigger=function(n){var i=this._eventHandlers[n],t;if(i)for(t=0;t<i.length;t+=1)i[t](n)},t}();n.AMVEUX=t}(AMVE||(AMVE={})),function(n){var t=function(){function t(t){this._zoomLevel=0;this._maxZoom=8;var i=this;this._amveUX=t;this._zoomElement=this._amveUX.createElement(["amve-zoom"]);this._amveUX.appendBottomChild(this._zoomElement);this._zoomOutBtn=this._amveUX.createElement(["amve-btn","amve-btn-control","amve-zoom-out"]);this._zoomOutBtn.title=n.Tooltips.ZoomOut;this._zoomElement.appendChild(this._zoomOutBtn);this._zoomInBtn=this._amveUX.createElement(["amve-btn","amve-btn-control","amve-zoom-in"]);this._zoomInBtn.title=n.Tooltips.ZoomIn;this._zoomElement.appendChild(this._zoomInBtn);this._zoomOutBtn.addEventListener("click",function(){i._zoomLevel>0&&(i._zoomLevel--,i._amveUX.trigger("zoom"))});this._zoomInBtn.addEventListener("click",function(){i._zoomLevel<i._maxZoom&&(i._zoomLevel++,i._amveUX.trigger("zoom"))})}return Object.defineProperty(t.prototype,"zoomLevel",{get:function(){return this._zoomLevel},set:function(n){n!=this._zoomLevel&&(this._zoomLevel=n,this._amveUX.trigger("zoom"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientHeight",{get:function(){return this._zoomElement.clientHeight},enumerable:!0,configurable:!0}),t}();n.AMVEZoomControlBar=t}(AMVE||(AMVE={})),function(n){var t=function(){function n(){}return n.buildBox=function(t,i,r,u,f,e){t===void 0&&(t=0);i===void 0&&(i=0);r===void 0&&(r=0);u===void 0&&(u=0);f===void 0&&(f=0);e===void 0&&(e=0);var o=new n;return o.left=t,o.top=i,o.right=r,o.bottom=u,o.height=f,o.width=e,o},n.fromClientRect=function(t){var i=new n;return i.left=t.left,i.right=t.right,i.top=t.top,i.bottom=t.bottom,i.height=t.height,i.width=t.width,i},n}();n.Box=t}(AMVE||(AMVE={}));Object.defineProperty(Array.prototype,"findFirst",{value:function(n){for(var i,t=0;t<this.length;t++)if(i=this[t],n.call(this,i,t,Object(this)))return i;return null},enumerable:!1,configurable:!0});Object.defineProperty(Array.prototype,"findIndexOf",{value:function(n){for(var i,t=0;t<this.length;t++)if(i=this[t],n.call(this,i,t,Object(this)))return t;return-1},enumerable:!1,configurable:!0}),function(n){var t,i;(function(n){n[n.Trim=0]="Trim";n[n.Virtual=1]="Virtual";n[n.Rendered=2]="Rendered"})(n.EditorModes||(n.EditorModes={}));t=n.EditorModes,function(n){n[n.TwentyThreeNineSevenSixFPS=0]="TwentyThreeNineSevenSixFPS";n[n.TwentyFiveFPS=1]="TwentyFiveFPS";n[n.TwentyNineNineSevenSixFPS=2]="TwentyNineNineSevenSixFPS";n[n.ThirtyFPS=3]="ThirtyFPS";n[n.SixtyFPS=4]="SixtyFPS"}(n.AMVEFrameRates||(n.AMVEFrameRates={}));i=n.AMVEFrameRates}(AMVE||(AMVE={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var i=function(){function n(n,t,i,r){r===void 0&&(r=!1);this.shouldPropagate=!1;n&&n.length>0&&(this.shortcutTxt=n.toLowerCase(),this.callback=t,this._keydownListener=i,this.shouldPropagate=r)}return Object.defineProperty(n.prototype,"keydownListener",{get:function(){return this._keydownListener},enumerable:!0,configurable:!0}),n}(),r,t,u,f;n.KeyboardShortcut=i;r=function(){function n(){this._shortcuts=[];this.specialKeys={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll:145,capslock:20,caps:20,numlock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,pagedown:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,".":190,"`":192}}return n.prototype.addShortcut=function(n,t,r){if(r===void 0&&(r=!1),n&&n.length>0&&t)if(this._shortcuts.findFirst(function(t){return t.shortcutTxt==n}))throw new Error("There is already a shortcut registered for: "+n);else{var u=this,f=function(i){var o,l,h,e,c,f,s,a;if(i.target?o=i.target:i.srcElement&&(o=i.srcElement),o&&o.nodeType==3&&(o=o.parentNode),o&&o.tagName!="INPUT"&&o.tagName!="TEXTAREA")for(l=n.split("||"),h=0;h<l.length;h++)if(e=l[h].split("+"),c=i.keyCode||i.which,c&&(f={ctrl:!1,shift:!1,alt:!1,meta:!1,targetChar:""},e.length==3?(f.ctrl=e[0]=="ctrl"||e[1]=="ctrl",f.shift=e[0]=="shift"||e[1]=="shift",f.alt=e[0]=="alt"||e[1]=="alt",f.meta=e[0]=="meta"||e[1]=="meta",f.targetChar=e[2]):e.length==2?(f.ctrl=e[0]=="ctrl",f.shift=e[0]=="shift",f.alt=e[0]=="alt",f.meta=e[0]=="meta",f.targetChar=e[1]):f.targetChar=e[0],s=(f.ctrl&&i.ctrlKey||!f.ctrl&&!i.ctrlKey)&&(f.shift&&i.shiftKey||!f.shift&&!i.shiftKey)&&(f.alt&&i.altKey||!f.alt&&!i.altKey)&&(f.meta&&i.metaKey||!f.meta&&!i.metaKey),s&&(u.specialKeys[f.targetChar]?s=u.specialKeys[f.targetChar]==c:(a=String.fromCharCode(c).toLowerCase(),s=f.targetChar==a),s))){if(t(i),!r){i.cancelBubble=!0;i.returnValue=!1;i.preventDefault&&i.preventDefault();i.stopPropagation&&i.stopPropagation();return}break}},e=new i(n,t,f,r);this._shortcuts.push(e);document.addEventListener("keydown",f,!1)}},n.prototype.removeShortcut=function(n){var t=this._shortcuts.findFirst(function(t){return t.shortcutTxt==n});t&&(document.removeEventListener("keydown",t.keydownListener,!1),this._shortcuts.splice(this._shortcuts.indexOf(t),1))},n}();n.KeyboardShortcutManager=r;t=function(){function n(){this.playPauseShortcut="space";this.markInShortcut="i";this.markOutShortcut="o";this.goToInShortcut="shift+i";this.goToOutShortcut="shift+o";this.clearInShortcut="ctrl+shift+i";this.clearOutShortcut="ctrl+shift+o";this.clearBothShortcut="ctrl+shift+x";this.playInToOutShortcut="ctrl+shift+space";this.playToOutShortcut="ctrl+space";this.ffwdShortcut="ctrl+right";this.rwdShortcut="ctrl+left";this.backOneFrameShortcut="left";this.backFiveFramesShortcut="shift+left";this.backOneSecondShortcut="alt+shift+left";this.backOneGopShortcut="ctrl+shift+left";this.fwdOneFrameShortcut="right";this.fwdFiveFramesShortcut="shift+right";this.fwdOneSecondShortcut="alt+shift+right";this.fwdOneGopShortcut="ctrl+shift+right";this.markInOneFrameShortcut="alt+,";this.markInFiveFramesShortcut="alt+shift+,";this.markOutOneFrameShortcut="alt+.";this.markOutFiveFramesShortcut="alt+shift+.";this.undoShortcut="ctrl+z";this.redoShortcut="ctrl+y";this.exportShortcut="s";this.changeModeVirtualShortcut="shift+v";this.changeModeRenderedShortcut="shift+r";this.changeModeTrimShortcut="shift+t"}return n}();n.KeyboardShortcutConfig=t;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(t);n.AdobePremierProShortcutConfig=u;f=function(n){function t(){n.apply(this,arguments);this.playPauseShortcut="space||`";this.markInShortcut="f1||alt+q";this.markOutShortcut="f2||alt+w";this.goToInShortcut="alt+e";this.goToOutShortcut="alt+r";this.clearInShortcut="d";this.clearOutShortcut="f";this.clearBothShortcut="g";this.playInToOutShortcut="6";this.playToOutShortcut="5";this.ffwdShortcut="ctrl+right";this.rwdShortcut="ctrl+left";this.backOneFrameShortcut="left";this.backFiveFramesShortcut="alt+left||1";this.backOneSecondShortcut="alt+shift+left";this.backOneGopShortcut="ctrl+shift+left";this.fwdOneFrameShortcut="right||4";this.fwdFiveFramesShortcut="alt+right||2"}return __extends(t,n),t}(t);n.AvidShortcutConfig=f}(AMVE||(AMVE={})),function(n){var t=function(){function n(){}return n.Trim="Trimming creates a Virtual subclip with a set in point, but no set out point. The result is a filtered manifest which plays back a live stream (given the original stream is still live), where the DVR window starts at the earliest at the set in point.",n.Virtual="A Virtual subclip is a filtered manifest (not a separate asset) which plays back as a non-live clip of the selected video. Clipping is only GOP accurate in this mode, and the subclip disappears if it falls off the archive window of the parent asset.",n.Rendered="A rendered subclip generates a new MP4 video asset of the selected video section. Clipping is frame accurate in this mode.",n.ZoomIn="Zoom Scrubber In",n.ZoomOut="Zoom Scrubber Out",n}();n.ClipData=t}(AMVE||(AMVE={})),function(n){var t=function(){function n(n,t,i,r,u){this._time=-1;this._dataUrl=null;this._width=null;this._height=null;this._imageType=null;this._time=n;this._dataUrl=t;this._width=i;this._height=r;this._imageType=u}return Object.defineProperty(n.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataUrl",{get:function(){return this._dataUrl},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"imageType",{get:function(){return this._imageType},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){if(this._dataUrl!=null&&this._imageType!=null){var n=this._dataUrl.indexOf("base64,");return n>=0?this._dataUrl.substr(n+7,this._dataUrl.length-n+1):null}return null},enumerable:!0,configurable:!0}),n}();n.ThumbnailData=t}(AMVE||(AMVE={})),function(n){var t=function(){function n(){}return n.Trim="Trimming creates a Virtual subclip with a set in point, but no set out point. The result is a filtered manifest which plays back a live stream (given the original stream is still live), where the DVR window starts at the earliest at the set in point.",n.Virtual="A Virtual subclip is a filtered manifest (not a separate asset) which plays back as a non-live clip of the selected video. Clipping is only GOP accurate in this mode, and the subclip disappears if it falls off the archive window of the parent asset.",n.Rendered="A rendered subclip generates a new MP4 video asset of the selected video section. Clipping is frame accurate in this mode.",n.ZoomIn="Zoom Scrubber In",n.ZoomOut="Zoom Scrubber Out",n}();n.Tooltips=t}(AMVE||(AMVE={}));